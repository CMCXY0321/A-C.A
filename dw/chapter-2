维度建模的基本概念

1. 维度表（dimension）
表示对分析主题所属类型的描述。比如"昨天早上张三在京东花费200元购买了一个皮包"
那么以购买为主题进行分析，可从这段信息中提取三个维度：时间维度(昨天早上)，地点维度(京东)，商品维度(皮包)
通常来说维度表信息比较固定，且数据量小

2. 事实表（fact table）
表示对分析主题的度量
比如上面那个例子中，200元就是事实信息
事实表包含了与各维度表相关联的外码，并通过JOIN方式与维度表关联
事实表的度量通常是数值类型，且记录数会不断增加，表规模迅速增长

维度建模的三种模式

1、星形模式
星形模式的维度建模由一个事实表和一组维表成，具有以下特点：
a. 维表只和事实表关联，维表之间没有关联；
b. 每个维表的主码为单列，且该主码放置在事实表中，作为两边连接的外码；
c. 以事实表为核心，维表围绕核心呈星形分布；

2、雪花模式
雪花模式(Snowflake Schema)是对星形模式的扩展，每个维表可继续向外连接多个子维表

3、星座模式
星座模式(Fact Constellations Schema)也是星型模式的扩展
很多时候维度空间内的事实表不止一个，而一个维表也可能被多个事实表用到。在业务发展后期，绝大部分维度建模都采用的是星座模式

雪花模式是将星型模式的维表进一步划分，使各维表均满足规范化设计。而星座模式则是允许星形模式中出现多个事实表。本文后面部分将具体讲到这几种模式的使用，请读者结合实例体会

经典星座模型
1、共享维度

2、细节/聚集事实表
细节事实表(detailed fact tables)中每条记录表示单一事实，而聚集事实表(aggregated fact tables)中每条记录则聚合了多条事实。
从表的字段上看，细节事实表通常有设置TID属性，而聚集事实表则无。
